webpackJsonp([1],{"1uds":function(e,t){},"7ZOU":function(e,t){},FxDs:function(e,t){},K5Bk:function(e,t){e.exports="data:image/png;base64,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"},Mrqe:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=s("VU/8")({name:"App"},i,!1,function(e){s("Mrqe")},null,null).exports,o=s("/ocq"),r=s("NYxO"),c=s("kxiW"),u=s.n(c),l={apiKey:"AIzaSyDy1PWhzunMRW57Q50yWM3am-ji5rqfUbs",authDomain:"vuechat-81d47.firebaseapp.com",databaseURL:"https://vuechat-81d47.firebaseio.com",projectId:"vuechat-81d47",storageBucket:"vuechat-81d47.appspot.com",messagingSenderId:"169575794536"};u.a.initializeApp(l);var g=u.a,m=s("424j");n.a.use(r.a);var p=new r.a.Store({strict:!0,plugins:[Object(m.a)()],state:{user:{displayName:null,photoURL:null,email:null,isTyping:!1},connected:!1,users:[],messages:[],isTyping:!1,typingUsers:[]},actions:{signIn:function(e){var t=this,s=e.commit,n=new g.auth.GoogleAuthProvider;g.auth().signInWithPopup(n).then(function(e){s("loggedIn",e.user),O.replace("/"),console.log("google logged in ok, heres the user data:",e.user),t._vm.$socket.emit("add user",{displayName:e.user.displayName,photoURL:e.user.photoURL,email:e.user.email})}).catch(function(e){return console.log(e)})},signOut:function(e){var t=this,s=e.commit;console.log("Signing out of google"),g.auth().signOut().then(function(){console.log("Letting socketio server know I left"),t._vm.$socket.emit("USER_LEFT",t.state.user),s("signOut"),O.replace("/login")})},sendMessage:function(e,t){e.commit;console.log("new message action",t),this._vm.$socket.emit("newMessage",t)},isTyping:function(e){(0,e.commit)("isTyping"),this._vm.$socket.emit("TYPING",this.state.user.displayName)},notTyping:function(e){(0,e.commit)("notTyping"),this._vm.$socket.emit("NOT_TYPING",this.state.user.displayName)},userJoined:function(){this._vm.$socket.emit("add user",{displayName:this.state.displayName,photoURL:this.state.photoURL,email:this.state.user.email})}},mutations:{loggedIn:function(e,t){e.typingUsers=[],e.user.displayName=t.displayName,e.user.photoURL=t.photoURL,e.user.email=t.email},signOut:function(e){e.typingUsers=[],e.user.displayName=null,e.user.photoURL=null,e.user.email=null,e.users=[],e.messages=[]},isTyping:function(e,t){e.isTyping=t},notTyping:function(e,t){e.isTyping=t},SOCKET_CONNECT:function(e){e.connected=!0,console.log("socket.io connected")},SOCKET_DISCONNECT:function(e,t){e.connected=!1,console.log("socket.io disconnected",t)},SOCKET_NEW_MESSAGE:function(e,t){e.messages.push(t[0])},SOCKET_LOGIN:function(e,t){console.log("login data",t),e.users=t[0]},SOCKET_TYPING:function(e,t){var s=t[0].displayName;console.log(s+" is typing"),e.typingUsers.includes(s)||e.typingUsers.push(s)},SOCKET_NOT_TYPING:function(e,t){var s=t[0].displayName;if(console.log(s+" stopped typing"),e.typingUsers.includes(s)){var n=e.typingUsers.indexOf(s);e.typingUsers.splice(n,1)}},SOCKET_USER_LEFT:function(e,t){var s=t[0];if(console.log(s+" left"),e.users.includes(s)){var n=e.users.indexOf(s);e.users.splice(n,1)}}},getters:{user:function(e){return e.user},isAuthenticated:function(e){return null!==e.user.email},users:function(e){return e.users},messages:function(e){return e.messages},typingString:function(e){var t="";return 1===e.typingUsers.length?e.typingUsers[0]+" is typing...":e.typingUsers.length>1?(e.typingUsers.forEach(function(s,n){n===e.typingUsers.length-1?t+=""+s:t+=s+" and "}),t+=" are typing...",t):void 0}}}),f={name:"UserList",data:function(){return{userFilter:""}},computed:{users:function(){return this.$store.getters.users},filteredUsers:function(){var e=this;return this.users.filter(function(t){return t.displayName.match(new RegExp(e.userFilter,"ig"))})}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"user-list"},[s("article",{staticClass:"search"},[s("i",{staticClass:"fas fa-search fa-2x search__icon"}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.userFilter,expression:"userFilter"}],staticClass:"search__input",attrs:{type:"text",placeholder:"filter users..."},domProps:{value:e.userFilter},on:{input:function(t){t.target.composing||(e.userFilter=t.target.value)}}})]),e._v(" "),s("ul",{staticClass:"users"},e._l(e.filteredUsers,function(t){return s("li",{key:e.filteredUsers.indexOf(t),staticClass:"users__box"},[s("img",{staticClass:"users__image",attrs:{src:t.photoURL,alt:"user profile image"}}),e._v(" "),s("span",{staticClass:"users__name"},[e._v(e._s(t.displayName))])])}))])},staticRenderFns:[]};var h=s("VU/8")(f,d,!1,function(e){s("FxDs")},"data-v-46648411",null).exports,v={name:"LeftBar",computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated},user:function(){return this.$store.getters.user}},methods:{signOut:function(){this.$store.dispatch("signOut")},showAuthData:function(){console.log(g.auth().currentUser)}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"left-bar"},[s("article",{staticClass:"profile"},[s("img",{staticClass:"profile__img",attrs:{src:e.user.photoURL,alt:""}}),e._v(" "),s("p",{staticClass:"profile__name"},[e._v(e._s(e.user.displayName))]),e._v(" "),s("a",{staticClass:"profile__logout",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.signOut(t)}}},[e._v("Log Out")])]),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("article",{staticClass:"actions"},[t("i",{staticClass:"fas fa-cog fa-2x action__settings"}),this._v(" "),t("br")])}]};var C={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"chat-area"},[s("ul",{ref:"chatArea",staticClass:"messages"},e._l(e.messages,function(t){return s("li",{key:e.messages.indexOf(t),staticClass:"message"},[s("img",{staticClass:"message__image",attrs:{src:t.photoURL,alt:"Profile Image"}}),e._v(" "),s("article",[s("h3",{staticClass:"message__author"},[e._v(e._s(t.author))]),e._v(" "),s("span",{staticClass:"message__time"},[e._v(e._s(t.time))]),e._v(" "),s("p",{staticClass:"message__body"},[e._v(e._s(t.body))])])])})),e._v(" "),s("p",[e._v(e._s(e.typingString))]),e._v(" "),s("form",{staticClass:"chat-area__form",on:{submit:function(t){return t.preventDefault(),e.sendMessage(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.myMessage,expression:"myMessage"}],staticClass:"chat-area__input",attrs:{autofocus:"",type:"text",placeholder:"Type Something..."},domProps:{value:e.myMessage},on:{input:function(t){t.target.composing||(e.myMessage=t.target.value)}}})])])},staticRenderFns:[]};var U={name:"Chat2",components:{LeftBar:s("VU/8")(v,y,!1,function(e){s("WedH")},"data-v-6e43011a",null).exports,UserList:h,ChatArea:s("VU/8")({name:"ChatArea",data:function(){return{myMessage:""}},computed:{messages:function(){return this.$store.getters.messages},typingString:function(){return this.$store.getters.typingString}},watch:{myMessage:function(){this.myMessage?this.$store.dispatch("isTyping"):this.$store.dispatch("notTyping")},messages:function(){var e=this;this.$nextTick(function(){return e.scrollMessagesUp()})}},methods:{sendMessage:function(){var e=this;this.myMessage&&this.$store.dispatch("sendMessage",this.myMessage).then(function(){e.myMessage=""})},scrollMessagesUp:function(){var e=this.$refs.chatArea;e.scrollTop=e.scrollHeight}},mounted:function(){this.scrollMessagesUp()}},C,!1,function(e){s("1uds")},"data-v-69891c9f",null).exports},created:function(){}},A={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",{staticClass:"container"},[t("LeftBar"),this._v(" "),t("UserList"),this._v(" "),t("ChatArea")],1)},staticRenderFns:[]};var E=s("VU/8")(U,A,!1,function(e){s("e3gz")},"data-v-46ad2ca8",null).exports,x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sign-in"},[t("h1",{staticClass:"sign-in__header"},[this._v("VueChat")]),this._v(" "),t("img",{staticClass:"sign-in__button",attrs:{src:s("K5Bk"),alt:""},on:{click:this.signInWithGoogle}})])},staticRenderFns:[]};var L=s("VU/8")({name:"Login",data:function(){return{email:null,password:null}},methods:{signInWithGoogle:function(){this.$store.dispatch("signIn")}}},x,!1,function(e){s("7ZOU")},"data-v-dd14ba26",null).exports;n.a.use(o.a);var O=new o.a({routes:[{path:"/",name:"Chat",component:E,beforeEnter:function(e,t,s){p.state.user.email?s():s("/login")}},{path:"/login",name:"Login",component:L,beforeEnter:function(e,t,s){p.state.user.email?s("/"):s()}}]}),w=s("hMcO"),T=s.n(w);n.a.config.productionTip=!1;var N=window.location.hostname;"localhost"===window.location.hostname&&(N=window.location.hostname+":3000"),n.a.use(T.a,N,p),new n.a({el:"#app",router:O,store:p,components:{App:a},template:"<App/>"})},WedH:function(e,t){},e3gz:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.518571b12cf3dc4bf1b9.js.map